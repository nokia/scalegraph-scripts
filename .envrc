use_python() {
  local python_root=$PYENV_ROOT/versions/$1
  load_prefix "$python_root"
  layout_python "$python_root/bin/python"
}
use python 3.5.2

export R_LIBS="$(realpath .)/.R_libs"
mkdir -p "$R_LIBS"

# we do multiprocessing instead of multithreading, which saves a lot of
# scheduling/lock contention overhead due python GIL
export MKL_NUM_THREADS=1 NUMEXPR_NUM_THREADS=1 OPENBLAS_NUM_THREADS=1
